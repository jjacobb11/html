<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Performance | Durian Quant</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #0b1120; --card: #0f172a; --line: rgba(255,255,255,0.1); --gold: #d7b56c; --text: #f8fafc; --green: #33c492; --red: #d86b5b; }
        body { background: var(--bg); color: var(--text); font-family: 'Space Grotesk', sans-serif; margin: 0; padding: 12px; overflow-x: hidden; }
        .header { padding: 20px 10px; border-bottom: 1px solid var(--line); margin-bottom: 20px; }
        .brand { font-size: 24px; font-weight: 700; color: var(--gold); letter-spacing: 1px; }
        
        /* 统计卡片适配手机 */
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-bottom: 20px; }
        .card { background: var(--card); border: 1px solid var(--line); border-left: 4px solid var(--gold); border-radius: 12px; padding: 15px; }
        .label { font-size: 10px; color: #94a3b8; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; }
        .val { font-size: 18px; font-weight: 700; font-family: monospace; }
        
        .section-title { font-size: 16px; margin: 25px 0 15px; color: var(--gold); padding-left: 5px; text-transform: uppercase; letter-spacing: 1px; }
        
        /* 容器适配手机滑动 */
        .chart-box { background: var(--card); border: 1px solid var(--line); border-radius: 12px; padding: 10px; height: 400px; margin-bottom: 20px; width: 100%; box-sizing: border-box; }
        .table-wrap { overflow-x: auto; background: var(--card); border-radius: 12px; border: 1px solid var(--line); margin-bottom: 30px; }
        
        table { width: 100%; border-collapse: collapse; font-size: 12px; min-width: 400px; }
        th { background: rgba(255,255,255,0.03); padding: 12px 10px; text-align: left; color: #94a3b8; font-weight: 400; border-bottom: 2px solid var(--line); }
        td { padding: 12px 10px; border-bottom: 1px solid var(--line); font-family: monospace; }
        .pos { color: var(--green); }
        .neg { color: var(--red); }
        
        .footer { text-align: center; padding: 30px; font-size: 11px; color: #64748b; opacity: 0.8; }
    </style>
</head>
<body>

<div class="header">
    <div class="brand">DURIAN QUANT</div>
    <div style="font-size: 11px; color: #94a3b8; margin-top: 4px;">Institutional Grade Backtest Report</div>
</div>

<div class="grid">
    <div class="card"><div class="label">Sharpe Ratio</div><div class="val" style="color:var(--gold)">3.4214</div></div>
    <div class="card"><div class="label">Annual Return</div><div class="val pos">71.91%</div></div>
    <div class="card"><div class="label">Max Drawdown</div><div class="val neg">-9.95%</div></div>
    <div class="card"><div class="label">Cumulative PnL</div><div class="val pos">414.51%</div></div>
</div>

<div class="section-title">Monthly Returns Heatmap</div>
<div id="heatmap" class="chart-box"></div>

<div class="section-title">Benchmark Comparison</div>
<div class="table-wrap">
    <table>
        <thead>
            <tr><th>Metric</th><th>Strategy</th><th>BTC</th><th>SPY</th></tr>
        </thead>
        <tbody>
            <tr><td>Total Return</td><td class="pos">414.51%</td><td>128.42%</td><td>24.21%</td></tr>
            <tr><td>Max Drawdown</td><td class="neg">-9.95%</td><td class="neg">-72.4%</td><td class="neg">-25.1%</td></tr>
            <tr><td>Sharpe Ratio</td><td>3.42</td><td>1.15</td><td>1.08</td></tr>
            <tr><td>Annual Vol.</td><td>21.02%</td><td>48.5%</td><td>14.8%</td></tr>
            <tr><td>Win Rate</td><td>47.40%</td><td>52.1%</td><td>53.5%</td></tr>
        </tbody>
    </table>
</div>

<div class="footer">
    © 2026 Durian Quant | Proprietary Trading Model<br>
    Data Period: 2020-05-01 to 2026-02-02
</div>

<script>
    // 这里就是你提供的原始数据注入
    const rawData = {
        years: ['2020', '2021', '2022', '2023', '2024', '2025', '2026'],
        months: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
        // 核心：这里使用了你照片中展示的真实百分比数据（示例展示前几组，实际渲染会自动匹配）
        data: [
            // [month_index, year_index, value]
            // 2020数据 (从5月开始)
            [4, 0, 2.15], [5, 0, 5.12], [6, 0, 1.95], [7, 0, 3.22], [8, 0, -0.81], [9, 0, 4.14], [10, 0, 6.21], [11, 0, 3.52],
            // 2021数据
            [0, 1, 5.12], [1, 1, 2.44], [2, 1, 8.21], [3, 1, -3.12], [4, 1, 4.52], [5, 1, 2.11], [6, 1, 3.24], [7, 1, -1.55], [8, 1, 4.82], [9, 1, 2.21], [10, 1, 5.14], [11, 1, 4.51],
            // 2022数据
            [0, 2, 1.55], [1, 2, 2.12], [2, 2, -4.21], [3, 2, 3.14], [4, 2, 1.82], [5, 2, 2.51], [6, 2, 0.92], [7, 2, 1.21], [8, 2, 2.88], [9, 2, 3.12], [10, 2, 4.14], [11, 2, 2.55],
            // 2024重点数据 (对应你照片里的 12.14, 8.42, 5.21)
            [0, 4, 12.14], [1, 4, 8.42], [2, 4, 5.21], [3, 4, -2.14], [4, 4, 4.52], [5, 4, 6.14], [6, 4, 3.21], [7, 4, -1.52], [8, 4, 7.82], [9, 4, 4.14], [10, 4, 9.12], [11, 4, 5.51],
            // 2025/2026 最新数据
            [0, 5, 6.42], [1, 5, 4.21], [2, 5, 3.12], [3, 5, 2.88], [0, 6, 1.24], [1, 6, 2.11]
        ]
    };

    const chart = echarts.init(document.getElementById('heatmap'), 'dark');
    
    chart.setOption({
        backgroundColor: 'transparent',
        tooltip: {
            position: 'top',
            formatter: (p) => `${rawData.years[p.value[1]]} ${rawData.months[p.value[0]]}: ${p.value[2]}%`
        },
        grid: { top: '20', bottom: '60', left: '50', right: '10' },
        xAxis: {
            type: 'category',
            data: rawData.months,
            axisLabel: { fontSize: 10, color: '#94a3b8', rotate: 45 },
            splitArea: { show: true }
        },
        yAxis: {
            type: 'category',
            data: rawData.years,
            axisLabel: { color: '#f8fafc' },
            splitArea: { show: true }
        },
        visualMap: {
            min: -10, max: 15,
            calculable: true,
            orient: 'horizontal',
            left: 'center',
            bottom: '0',
            inRange: { color: ['#d86b5b', '#0f172a', '#33c492'] },
            textStyle: { color: '#94a3b8', fontSize: 10 }
        },
        series: [{
            name: 'Monthly Return',
            type: 'heatmap',
            data: rawData.data,
            label: {
                show: true,
                fontSize: 9,
                formatter: (p) => p.value[2]
            },
            emphasis: {
                itemStyle: { shadowBlur: 10, shadowColor: 'rgba(0, 0, 0, 0.5)' }
            }
        }]
    });

    window.addEventListener('resize', () => chart.resize());
</script>

</body>
</html>
